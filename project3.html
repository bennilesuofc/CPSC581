---
layout: default
title: Project 3
---
<head>
<!image slideshow code from https://www.w3schools.com/howto/howto_js_slideshow.asp>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
* {box-sizing: border-box}
.mySlides1, .mySlides2, .mySlides3, .mySlides4 {display: none}
img {vertical-align: middle;}

/* Slideshow container */
.slideshow-container {
  max-width: 300px;
  max-height:400px;
  position: relative;
  margin: auto;
  border:1px solid black;
}

/* Next & previous buttons */
.prev, .next {
  cursor: pointer;
  position: absolute;
  top: 50%;
  width: auto;
  padding: 16px;
  margin-top: -22px;
  color: white;
  font-weight: bold;
  font-size: 18px;
  transition: 0.6s ease;
  border-radius: 0 3px 3px 0;
  user-select: none;
}
  
/* Position the "next button" to the right */
.next {
  right: 0;
  border-radius: 3px 0 0 3px;
}

/* On hover, add a grey background color */
.prev:hover, .next:hover {
  background-color: #f1f1f1;
  color: black;
}
</style>
</head>
<body>
<h2 style="text-align:center">Arduino Joke Detector</h2>

<div style="display:flex;flex-direction:column;align-items:center;">
<h3>Demo Video</h3>
<iframe src="https://drive.google.com/file/d/1QhiXllapbamTWoh2UO1iTU8JhYbwAEFZ/preview" width="640" height="480" allow="autoplay"></iframe>
<p>
Have you ever told a joke, but no-one laughed? It must be because they didn’t know that the joke was over. The Joke Detector is a device that plays a sting after you tell a joke, so your audience knows when to laugh.
This device uses an Arduino to listen for a sound input, and when it detects that the sound has stopped, it uses a motor to hit a small drum and cymbal to make the classic “ba-dum-tish” sting.
</p>
<p>
During the sketching process, I came up with a few different ways to implement this idea.
The design I settled on only detects sound, rather than implementing any sort of speech recognition that would actually determine if speech contained a joke or not.
While this is probably possible to do with a better microphone and computing power, it is beyond the Arduino’s capabilities (and mine).
</p>
<p>
I then designed the circuitry and code for the device using Tinkercad (embedded below). My initial plan for the implementation was to use three drumsticks for each hit of the sting. However, this would have required three motors, and when constructing the physical device, I found that the Arduino plus a 9V battery was not enough to power all of these and the sound sensor. I settled for using only the sound sensor and a single small servo motor, both powered directly off of the Arduino.
Also, Tinkercad does not include a sound sensor in their component list, so I simulated it in the circuit by using a button instead, as both the sensor and the button provide a digital input (1 or 0 only). However, when testing the sound sensor, I found that while it does send a digital input, it does not send a constant input like the button. In particular, it would register input for each word spoken in a sentence but not the spaces between the words, which is not useful for detecting the end of a sentence. I got around this by setting a flag if sound was detected, and then checking every few seconds if sound is still being detected.
</p>
 <div>
  <a href="https://github.com/bennilesuofc/CPSC581/blob/main/assets/project3/CPSC581_Project3.ino" target="_blank">Link to Source Code</a>
</div>
</div>
  
<hr>
  
<p>Sketches:</p>
<div class="slideshow-container">
  <div class="mySlides1">
    <img src="assets/project3/sketches/sketch-1.png" alt="sketch 1" style="width:100%">
  </div>
   <div class="mySlides1">
    <img src="assets/project3/sketches/sketch-2.png" alt="sketch 2" style="width:100%">
  </div>
   <div class="mySlides1">
    <img src="assets/project3/sketches/sketch-3.png" alt="sketch 3" style="width:100%">
  </div>
   <div class="mySlides1">
    <img src="assets/project3/sketches/sketch-4.png" alt="sketch 4" style="width:100%">
  </div>
   <div class="mySlides1">
    <img src="assets/project3/sketches/sketch-5.png" alt="sketch 5" style="width:100%">
  </div>
   <div class="mySlides1">
    <img src="assets/project3/sketches/sketch-6.png" alt="sketch 6" style="width:100%">
  </div>
   <div class="mySlides1">
    <img src="assets/project3/sketches/sketch-7.png" alt="sketch 7" style="width:100%">
  </div>
   <div class="mySlides1">
    <img src="assets/project3/sketches/sketch-8.png" alt="sketch 8" style="width:100%">
  </div>
   <div class="mySlides1">
    <img src="assets/project3/sketches/sketch-9.png" alt="sketch 9" style="width:100%">
  </div>
   <div class="mySlides1">
    <img src="assets/project3/sketches/sketch-10.png" alt="sketch 10" style="width:100%">
  </div>

  <a class="prev" onclick="plusSlides(-1, 0)">&#10094;</a>
  <a class="next" onclick="plusSlides(1, 0)">&#10095;</a>
</div>
<p>Detail Sketches:</p>
<div class="slideshow-container">
  <div class="mySlides2">
    <img src="assets/project3/detail-sketches/detail-sketch-1.png" alt="detail sketch 1" style="width:100%">
  </div>
  <div class="mySlides2">
    <img src="assets/project3/detail-sketches/detail-sketch-2.png" alt="detail sketch 2" style="width:100%">
  </div>
  <div class="mySlides2">
    <img src="assets/project3/detail-sketches/detail-sketch-3.png" alt="detail sketch 3" style="width:100%">
  </div>
  <div class="mySlides2">
    <img src="assets/project3/detail-sketches/detail-sketch-4.png" alt="detail sketch 4" style="width:100%">
  </div>
  <div class="mySlides2">
    <img src="assets/project3/detail-sketches/detail-sketch-5.png" alt="detail sketch 5" style="width:100%">
  </div>
  <div class="mySlides2">
    <img src="assets/project3/detail-sketches/detail-sketch-6.png" alt="detail sketch 6" style="width:100%">
  </div>
  <div class="mySlides2">
    <img src="assets/project3/detail-sketches/detail-sketch-7.png" alt="detail sketch 7" style="width:100%">
  </div>
  <div class="mySlides2">
    <img src="assets/project3/detail-sketches/detail-sketch-8.png" alt="detail sketch 8" style="width:100%">
  </div>
  <div class="mySlides2">
    <img src="assets/project3/detail-sketches/detail-sketch-9.png" alt="detail sketch 9" style="width:100%">
  </div>
  <div class="mySlides2">
    <img src="assets/project3/detail-sketches/detail-sketch-10.png" alt="detail sketch 10" style="width:100%">
  </div>

  <a class="prev" onclick="plusSlides(-1, 1)">&#10094;</a>
  <a class="next" onclick="plusSlides(1, 1)">&#10095;</a>
</div>
  
<hr>
  
<div style="display:flex;flex-direction:column;align-items:center;">
<h3>Concept Video</h3>
  <video width="960" height="540" autoplay="muted" controls>
  <source src="assets/project3/CPSC 581 Project 3 Concept Video.mp4" type="video/mp4">
</video>
</div>

<h3>Tinkercad Circuit</h3>
<!iframe width="725" height="453"
  src="https://www.tinkercad.com/embed/kIOQzGJEbol?editbtn=1" 
  frameborder="0" marginwidth="0" marginheight="0" scrolling="no">
</iframe>
<div>
  <a href="https://github.com/bennilesuofc/CPSC581/blob/main/assets/project3/CPSC581_Project3.ino" target="_blank">Link to Source Code (different from Tinkercad code)</a>
</div>
<script>
let slideIndex = [1,1];
let slideId = ["mySlides1", "mySlides2"];
showSlides(1, 0);
showSlides(1, 1);

function plusSlides(n, no) {
  showSlides(slideIndex[no] += n, no);
}

function showSlides(n, no) {
  let i;
  let x = document.getElementsByClassName(slideId[no]);
  if (n > x.length) {slideIndex[no] = 1}    
  if (n < 1) {slideIndex[no] = x.length}
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";  
  }
  x[slideIndex[no]-1].style.display = "block";  
}
</script>

</body>
